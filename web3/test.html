<!-- TODO:
	- set id to web3-item divs, query their children using this id
-->
<!DOCTYPE html>
<html lang="en">

<head>
	<title>Web3 DEMO</title>
	<meta name="keywords" content="XT, IT, personal" />
	<meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
	<meta name="author" content="XT" />
	<meta name="description" content="XThang's site" />

	<link rel="icon" href="https://xthang.xyz/favicon.ico" />

	<!-- <base target="_blank"> -->

	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<!-- <script src="https://kit.fontawesome.com/8d7fa40fed.js" crossorigin="anonymous"></script> -->
	<script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
	<!-- <link type="text/css" rel="stylesheet" id="fontello-css" href="/css/fontello-70156438/css/fontello.css" media="all"> -->

	<link type="text/css" rel="stylesheet" href="https://xthang.xyz/css/global.css" media="all" />
	<link type="text/css" rel="stylesheet" href="https://xthang.xyz/css/x-common.css" media="all" />
	<link type="text/css" rel="stylesheet" href="https://xthang.xyz/css/loader.css" media="all" />
	<link type="text/css" rel="stylesheet" href="https://xthang.xyz/css/loader-fpt.css" media="all" />
	<!-- <link type="text/css" rel="stylesheet" href="https://xthang.xyz/css/pulsing-rings.css" media="all"> -->
	<link type="text/css" rel="stylesheet" href="https://xthang.xyz/add-ons/snackbar.css" media="all" />
	<!-- <link type="text/css" rel="stylesheet" href="/add-ons/dragMenu.css" media="all"> -->
	<link type="text/css" rel="stylesheet" href="https://xthang.xyz/add-ons/toggle-switch.css" media="all" />

	<script src="https://xthang.xyz/js/global.js"></script>

	<style id="font">
		.web3-item {
			overflow: auto;
			padding: 7px;
			border: 1px solid silver;
			border-radius: 5px;
			box-shadow: 0 0 4px 1px rgba(0, 0, 0, 0.2);
			transition: 0.3s;
		}

		.web3-item:hover {
			box-shadow: 0 0 8px 2px rgb(0 0 0 / 20%);
		}

		.output-console {
			margin: 7px 0;
			padding: 7px;
			border: 1px solid cadetblue;
			border-radius: 5px;
			white-space: break-spaces;
			/* or pre-wrap */
			overflow: auto;
		}

		.output-console-mini {
			padding: 1px;
			border: 1px solid rgb(174, 45, 159);
			border-radius: 2px;
			white-space: break-spaces;
			/* or pre-wrap */
			overflow: auto;
		}

		.web3-item .is-sign:checked~.for-not-sign {
			display: none;
		}

		.web3-item .is-sign:not(:checked)~.for-sign {
			display: none;
		}
	</style>
</head>

<body>
	<div>
		<div id="snackbar">Some text some message..</div>
		<script src="https://xthang.xyz/add-ons/snackbar.js"></script>

		<div id="warning-view">
			<span class="warning-text">Please upgrade your browser to newer version</span>
		</div>
		<script>
			let _ = (document.getElementById("warning-view").hidden = true); // let is not available on ECMAScript < 6th edition
		</script>

		<div id="SpinnerBar" class="spinner-bar-page">
			<div class="spinner-bar">
				<div class="bounce1"></div>
				<div class="bounce2"></div>
				<div class="bounce3"></div>
			</div>
		</div>

		<div class="main-wrapper">
			<div>Web3.version: <span id="Web3.version"></span></div>
			<div>Web3.modules: <span id="Web3.modules"></span></div>
			<div>window.ethereum: <span id="window.ethereum"></span></div>
			<div>Web3.givenProvider: <span id="Web3.givenProvider"></span></div>
			<hr />

			<div style="overflow: auto;">My wallets:
				<div id="my-wallets">
					<input type="radio" id="other-wallet" name="my-wallet" disabled>
					<label for="my-wallets-other"><input type="text" id="my-wallets-other" oninput="$('input#other-wallet').val(event.target.value)"></label><br>
				</div>
			</div>
			<hr />

			<div>
				<label for="select-network">Network:</label>
				<select id="select-network" onchange="onNetworkChange(event.target.value)">
					<option disabled selected value>-- select an option --</option>
				</select>
			</div>
			<div>network ID: <span id="ntw-id"></span> | chain ID: <span id="ntw-chain-id"></span></div>
			<div>provider: <span id="ntw-provider"></span></div>
			<div style="overflow: auto;">contractAddresses: <span id="ntw-contract-addresses"></span></div>
			<div id="ntw-scan">etherScan:
				Address: <select class="site"></select>
				Type: <select class="url-path">
					<option disabled selected value="">-- select an option --</option>
					<option>address</option>
					<option>tx</option>
					<option>token</option>
				</select>
				<input>
				<button onclick="scan('~', $('#ntw-scan .url-path').val(), $('#ntw-scan input').val())">GO</button>
			</div>
			<div id="node-info" class="output-console"></div>
			<hr />

			<div class="web3-item reset-on-network-change" id="ntw-info">
				Network Info: <button onclick="getNetworkInfo('~')">GET</button>
				<div class="output-console"></div>
			</div>
			<br />

			<div class="web3-item reset-on-network-change" id="get-accounts">
				Accounts
				<button onclick="getAccounts('~')">GET</button>
				:
				<div class="output-console"></div>
			</div>
			<br />

			<div class="web3-item reset-on-network-change" id="get-accounts-p">
				Accounts - Personal
				<button onclick="getAccountsPersonal('~')">GET</button>
				:
				<div class="output-console"></div>
			</div>
			<br />

			<div class="web3-item reset-on-network-change" id="request-accounts">
				Request Accounts
				<button onclick="requestAccounts()">GET</button>
				:
				<div class="output-console"></div>
			</div>
			<br />

			<div class="web3-item reset-on-network-change" id="account-balance-check">
				Account Balance: <select class="select-account" onchange="onChangeAccForBalanceCheck(event.target.value)">
					<option selected value="">-- select an option --</option>
				</select>
				<input />
				<button
					onclick="getAccountBalance('~', $('#account-balance-check input').val() || $('#account-balance-check select').val(), '#account-balance-check .output-console')">GET</button>
				:
				<div class="output-console"></div>
			</div>
			<br />

			<div class="web3-item reset-on-network-change" id="get-storage">
				getStorageAt: Address: <input class="input-address" /> position: <input class="input-position" /> Block: <input class="input-block" placeholder="optional" />
				<button onclick="getStorageAt('~', $('#get-storage .input-address').val(), $('#get-storage .input-position').val(), $('#get-storage .input-block').val())">GET</button>
				:
				<div class="output-console"></div>
			</div>
			<br />

			<div class="web3-item reset-on-network-change">
				getCode: Address: <input id="input-address-get-code" /> Block: <input id="input-block-get-code" placeholder="optional" />
				<button onclick="getCode('~', $('#input-address-get-code').val(), $('#input-block-get-code').val())">GET</button>
				:
				<div id="code-info" class="output-console"></div>
			</div>
			<br />

			<div class="web3-item reset-on-network-change">
				getBlock: Hash/Number: <input id="input-block-get-block" /> returnTransactionObjects: <input type="checkbox" id="input-returnTransObjs-get-block">
				<button onclick="getBlock('~', $('#input-block-get-block').val(), $('#input-returnTransObjs-get-block').is(':checked'))">GET</button>
				:
				<div id="block-info" class="output-console"></div>
			</div>
			<br />

			<div class="web3-item reset-on-network-change">
				getTransaction: Hash: <input id="input-hash-get-trans" />
				<button onclick="getTransaction('~', $('#input-hash-get-trans').val())">GET</button>
				:
				<div id="trans-info" class="output-console"></div>
			</div>
			<br />

			<div class="web3-item reset-on-network-change">
				getPendingTransactions:
				<button onclick="getPendingTransactions('~')">GET</button>
				:
				<div id="pending-trans-info" class="output-console"></div>
			</div>
			<br />

			<div class="web3-item reset-on-network-change" id="get-trans-count">
				getTransactionCount: From address:
				<select class="select-account select-address">
					<option selected value="">-- select an option --</option>
				</select>
				<input id="input-address" />
				Block: <input id="input-block" placeholder="optional" />
				<button
					onclick="getTransactionCount('~', $('#get-trans-count .input-address').val() || $('#get-trans-count .select-address').val(), $('#get-trans-count .input-block').val())">GET</button>
				:
				<div class="output-console"></div>
			</div>
			<br />

			<div class="web3-item reset-on-network-change">
				getWork:
				<button onclick="getWork('~')">GET</button>
				:
				<div id="work-info" class="output-console"></div>
				submitWork: nonce: <input id="input-nonce-submit-work" /> powHash: <input id="input-powHash-submit-work" /> digest: <input id="input-digest-submit-work" />
				<button onclick="submitWork('~', $('#input-nonce-submit-work').val(), $('#input-powHash-submit-work').val(), $('#input-digest-submit-work').val())">SUBMIT</button>
				:
				<div id="submit-work-result" class="output-console"></div>
			</div>
			<br />

			<div class="web3-item reset-on-network-change">
				New account
				<button onclick="createAccount()">CREATE</button>
				:<span id="new-account" class="output-console"></span>
			</div>
			<br />

			<div class="web3-item reset-on-network-change">
				<div>Unlock account</div>
				<div>
					<label for="select-unlock-acc-address">address </label>
					<select id="select-unlock-acc-address" class="select-account">
						<option selected value="">-- select an option --</option>
					</select>
					<input id="input-unlock-acc-address" />
				</div>
				<label for="input-unlock-acc-password">password </label><input id="input-unlock-acc-password" />
				<label for="input-unlock-acc-unlockDuration">unlockDuration </label>
				<input id="input-unlock-acc-unlockDuration" type="number" />
				<button
					onclick="unlockAccount('~', $('#input-unlock-acc-address').val() || $('#select-unlock-acc-address').val(), $('#input-unlock-acc-password').val(), $('#input-unlock-acc-unlockDuration').val())">
					UNLOCK
				</button>
				:
				<div id="unlock-acc-result" class="output-console"></div>
			</div>
			<br />

			<div class="web3-item reset-on-network-change">
				<div>Lock account</div>
				<label for="select-lock-acc-address">address </label>
				<select id="select-lock-acc-address" class="select-account">
					<option selected value="">-- select an option --</option>
				</select>
				<input id="input-lock-acc-address" />
				<button onclick="lockAccount('~', $('#input-lock-acc-address').val() || $('#select-lock-acc-address').val())">
					LOCK
				</button>
				:
				<div id="lock-acc-result" class="output-console"></div>
			</div>
			<br />

			<div class="web3-item reset-on-network-change">
				<div>Sign data:</div>
				<label for="input-sign-msg">Msg</label><input id="input-sign-msg" />
				<label for="input-sign-acc">Acc</label><input id="input-sign-acc" />
				<label for="input-sign-pw">Pw</label><input id="input-sign-pw" />
				<button onclick="signData('~', $('#input-sign-msg').val(), $('#input-sign-acc').val(), $('#input-sign-pw').val())">
					SIGN
				</button>
				:
				<div id="new-signature" class="output-console"></div>
			</div>

			<hr />

			<div class="web3-item reset-on-network-change" id="trans">
				Send Transaction:
				Sign: <input type="checkbox" class="is-sign"><br />
				<div class="from-address for-not-sign">
					From: <select class="select-account">
						<option selected value="">-- select an option --</option>
					</select>
					<input />
					<button
						onclick="getAccountBalance('trans|from', $('#trans .from-address input').val() || $('#trans .from-address select').val(), '#trans .from-address .output-console-mini')">CHECK
						BALANCE</button>
					:
					<span class="output-console-mini"></span>
				</div>
				<div class="from-pkey for-sign">
					Private key: <select class="select-private-key">
						<option selected value="">-- select an option --</option>
					</select>
					<input />
					<button
						onclick="getAccountBalanceFromPrivateKey('trans|from', $('#trans .from-pkey input').val() || $('#trans .from-pkey select').val(), '#trans .from-pkey .output-console-mini')">CHECK
						BALANCE</button>
					:
					<span class="output-console-mini"></span>
				</div>
				<div class="to">
					To: <select class="select-account">
						<option selected value="">-- optional --</option>
					</select>
					<input placeholder="optional" />
					<button onclick="getAccountBalance('trans|to', $('#trans .to input').val() || $('#trans .to select').val(), '#trans .to .output-console-mini')">CHECK
						BALANCE</button>
					:
					<span class="output-console-mini"></span>
				</div>
				Value: <input class="value" />
				<select class="unit">
					<option selected>ether</option>
				</select>
				Data: <input class="data" placeholder="optional" />
				<div class="gas for-sign">Gas: <input /></div>
				<button onclick="sendTransaction('~')">SEND</button>
				:
				<div class="output-console"></div>
			</div>
			<br />

			<div class="web3-item reset-on-network-change">
				<div>Send Personal Transaction:</div>
				<div>
					<label for="trans-p-from">From</label><input id="trans-p-from" />
				</div>
				<div>
					<label for="trans-p-to">To</label><input id="trans-p-to" />
				</div>
				<label for="trans-p-value">Value</label><input id="trans-p-value" />
				<label for="trans-p-value-unit"></label>
				<select id="trans-p-value-unit">
					<option selected>ether</option>
				</select>
				<label for="trans-p-data">Data</label><input id="trans-p-data" />
				<button onclick="sendPersonalTransaction('~')">SEND</button>
				:
				<div id="trans-p-result" class="output-console"></div>
			</div>

			<hr />

			<div class="web3-item reset-on-network-change">
				Set Contract Default Account: <select id="select-account-set-default-contract" class="select-account">
					<option selected value="">-- select an option --</option>
				</select>
				<input id="input-account-set-default-contract" />
				<button onclick="setContractDefaultAccount('~', $('#input-account-set-default-contract').val() || $('#select-account-set-default-contract').val())">SET</button>
				:
				<div id="set-contract-default-account-result" class="output-console"></div>
			</div>
			<br />

			<div class="web3-item" id="create-contract">
				New contract:
				Sign: <input type="checkbox" class="is-sign"><br />
				<select class="select-contract-create">
					<option disabled selected value>-- select an option --</option>
				</select>
				arguments: <textarea class="arguments"></textarea>
				<div class="from-address for-not-sign">
					From: <select class="select-account">
						<option selected value="">-- select an option --</option>
					</select>
					<input />
					<button
						onclick="getAccountBalance('create-contract', $('#create-contract .from-address input').val() || $('#create-contract .from-address select').val(), '#create-contract .from-address .output-console-mini')">CHECK
						BALANCE</button>
					:
					<span class="output-console-mini"></span>
				</div>
				<div class="from-pkey for-sign">
					Private key: <select class="select-private-key">
						<option selected value="">-- select an option --</option>
					</select>
					<input />
					<button
						onclick="getAccountBalanceFromPrivateKey('create-contract', $('#create-contract .from-pkey input').val() || $('#create-contract .from-pkey select').val(), '#create-contract .from-pkey .output-console-mini')">CHECK
						BALANCE</button>
					:
					<span class="output-console-mini"></span>
				</div>
				<div class="gas for-sign">Gas: <input /></div>
				<button onclick="createNewContract('~')">CREATE</button>
				:
				<div id="create-contract-result" class="output-console"></div>
			</div>
			<br />

			<div>
				<label for="select-contract">Contract:</label>
				<select id="select-contract" class="select-contract" onchange="onContractChange('~', event.target.value)">
					<option disabled selected value>-- select an option --</option>
				</select>
			</div>
			<div>contract abi <button onclick="$('#contract-abi').toggle(700)">SHOW/HIDE</button>: <span id="contract-abi" style="display: none;"></span></div>
			<div>
				<label for="select-contract-address">contract address: </label>
				<select id="select-contract-address">
					<option selected value>-- select an option --</option>
				</select>
				<input id="contract-address" />
			</div>
			<div id="contract-info-base" class="output-console"></div>
			<br />

			<div class="web3-item reset-on-contract-change" id="contract-info">
				Contract Info
				<button onclick="getContractInfo('~')">GET</button>
				:
				<div class="output-console"></div>
			</div>
			<br />

			<div class="web3-item reset-on-contract-change" id="account-token-balance-check">
				Account Token Balance: <select class="select-account" onchange="onChangeAccForTokenBalanceCheck(event.target.value)">
					<option selected value="">-- select an option --</option>
				</select>
				<input />
				<button
					onclick="getAccountTokenBalance('~', $('#account-token-balance-check input').val() || $('#account-token-balance-check select').val(), '#account-token-balance-check .output-console')">GET</button>
				:
				<div class="output-console"></div>
			</div>
			<br />

			<div class="web3-item reset-on-contract-change" id="add-minters">
				Add Minters:
				Sign: <input type="checkbox" class="is-sign">
				<div class="sender-address for-not-sign">
					Sender: <select class="select-account">
						<option selected value="">-- select an option --</option>
					</select>
					<input />
				</div>
				<div class="sender-pkey for-sign">
					Private key: <select class="select-private-key">
						<option selected value="">-- select an option --</option>
					</select>
					<input />
				</div>
				<div class="minters">
					Minters: <select class="select-account">
						<option selected value="">-- select an option --</option>
					</select>
					<input />
				</div>
				<div class="gas for-sign">Gas: <input /></div>
				<button onclick="addMinters('~')">ADD</button>
				:
				<div class="output-console"></div>
			</div>
			<br />

			<div class="web3-item reset-on-contract-change" id="mint">
				Mint:
				Sign: <input type="checkbox" class="is-sign">
				<div class="minter-address for-not-sign">
					Minter: <select class="select-account">
						<option selected value="">-- select an option --</option>
					</select>
					<input />
				</div>
				<div class="minter-pkey for-sign">
					Private key: <select class="select-private-key">
						<option selected value="">-- select an option --</option>
					</select>
					<input />
				</div>
				<div class="to">
					To: <select class="select-account">
						<option selected value="">-- select an option --</option>
					</select>
					<input />
					<button onclick="getAccountTokenBalance('mint', $('#mint .to input').val() || $('#mint .to select').val(), '#mint .to .output-console-mini')">CHECK
						BALANCE</button>
					:
					<span class="output-console-mini"></span>
				</div>
				Value: <input class="value" />
				<div class="gas for-sign">Gas: <input /></div>
				<button onclick="mintToken('~')">MINT</button>
				:
				<div class="output-console"></div>
			</div>
			<br />

			<div class="web3-item reset-on-contract-change" id="transfer-token">
				Transfer token:
				Sign: <input type="checkbox" class="is-sign">
				<div class="from-address for-not-sign">
					From: <select class="select-account">
						<option selected value="">-- select an option --</option>
					</select>
					<input />
					<button
						onclick="getAccountTokenBalance('transfer-token|from', $('#transfer-token .from-address input').val() || $('#transfer-token .from-address select').val(), '#transfer-token .from-address .output-console-mini')">CHECK
						BALANCE</button>
					:
					<span class="output-console-mini"></span>
				</div>
				<div class="from-pkey for-sign">
					From pKey: <select class="select-private-key">
						<option selected value="">-- select an option --</option>
					</select>
					<input />
					<button
						onclick="getAccountTokenBalanceFromPrivateKey('transfer-token|from', $('#transfer-token .from-pkey input').val() || $('#transfer-token .from-pkey select').val(), '#transfer-token .from-pkey .output-console-mini')">CHECK
						BALANCE</button>
					:
					<span class="output-console-mini"></span>
				</div>
				<div class="to">
					To: <select class="select-account">
						<option selected value="">-- select an option --</option>
					</select>
					<input />
					<button
						onclick="getAccountTokenBalance('transfer-token|to', $('#transfer-token .to input').val() || $('#transfer-token .to select').val(), '#transfer-token .to .output-console-mini')">CHECK
						BALANCE</button>
					:
					<span id="to-account-transfer-token-token-balance-info" class="output-console-mini"></span>
				</div>
				Value: <input class="value" />
				<div class="gas for-sign">Gas: <input /></div>
				<button onclick="transferToken('~')">TRANSFER</button>
				:
				<div class="output-console"></div>
			</div>
			<br />

			<script>
				const stringConstructor = "test".constructor;
				const arrayConstructor = [].constructor;
				const objectConstructor = ({}).constructor;

				function objToString(obj) {
					function whatIsIt(object) {
						if (object.constructor === stringConstructor) {
							return "String";
						}
						if (object.constructor === arrayConstructor) {
							return "Array";
						}
						if (object.constructor === objectConstructor) {
							return "Object";
						}
					}
					if (obj === undefined || obj === null) return obj
					else if (whatIsIt(obj) === 'Object') return JSON.stringify(obj, null, 2)
					else return obj
				}
			</script>

			<script>
				document.getElementById("Web3.version").innerHTML = Web3.version;
				document.getElementById("Web3.modules").innerHTML = Web3.modules;
				document.getElementById("window.ethereum").innerHTML = window.ethereum;
				document.getElementById("Web3.givenProvider").innerHTML = Web3.givenProvider;

				var networks = {
					mainnet: {
						networkID: 1,
						chainID: 1,
						provider: "https://mainnet.infura.io/v3/0be77c2f0459475d822b185ded148520",
						scanSites: ["https://etherscan.io"],
						contractAddresses: {
							XToken: [],
							AXSToken: ["0xBB0E17EF65F82Ab018d8EDd776e8DD940327B28b"],
							SmoothLovePotion: ["0xCC8Fa225D80b9c7D42F96e9570156c65D6cAAa25"],
							SmallLovePotion: ["0x37236CD05b34Cc79d3715AF2383E96dd7443dCF1"]
						},
					},
					"test-ganache": {
						networkID: 5777,
						chainID: 1337,
						provider: "ws://127.0.0.1:7545",
						contractAddresses: {
							XToken: ["0x0000000000000000000000000000000000000000"],
							AXSToken: ["0x0000000000000000000000000000000000000000"],
							SmoothLovePotion: ["0x0000000000000000000000000000000000000000"],
							SmallLovePotion: ["0x0000000000000000000000000000000000000000"]
						},
					},
					ropsten: {
						networkID: 3,
						chainID: 3,
						provider: "https://ropsten.infura.io/v3/0be77c2f0459475d822b185ded148520",
						scanSites: ["https://ropsten.etherscan.io"],
						contractAddresses: {
							XToken: ["0x4e1f311E52f3969754d538b25d307922C97404db"],
							AXSToken: ["0x0000000000000000000000000000000000000000"],
							SmoothLovePotion: ["0x0000000000000000000000000000000000000000"],
							SmallLovePotion: ["0x0000000000000000000000000000000000000000"]
						},
					},
					kovan: {
						networkID: 42,
						chainID: 42,
						provider: "https://kovan.infura.io/v3/0be77c2f0459475d822b185ded148520",
						scanSites: ["https://kovan.etherscan.io"],
						contractAddresses: {
							XToken: ["0x0000000000000000000000000000000000000000"],
							AXSToken: ["0x0000000000000000000000000000000000000000"],
							SmoothLovePotion: ["0x0000000000000000000000000000000000000000"],
							SmallLovePotion: ["0x0000000000000000000000000000000000000000"]
						},
					},
					rinkeby: {
						networkID: 4,
						chainID: 4,
						provider: "https://rinkeby.infura.io/v3/0be77c2f0459475d822b185ded148520",
						scanSites: ["https://rinkeby.etherscan.io"],
						contractAddresses: {
							XToken: ["0x0000000000000000000000000000000000000000"],
							AXSToken: ["0x0000000000000000000000000000000000000000"],
							SmoothLovePotion: ["0x0000000000000000000000000000000000000000"],
							SmallLovePotion: ["0x0000000000000000000000000000000000000000"]
						},
					},
					GÖRLI: {
						networkID: 5,
						chainID: 5,
						provider: "https://goerli.infura.io/v3/0be77c2f0459475d822b185ded148520",
						scanSites: ["https://goerli.etherscan.io"],
						contractAddresses: {
							XToken: ["0x0000000000000000000000000000000000000000"],
							AXSToken: ["0x0000000000000000000000000000000000000000"],
							SmoothLovePotion: ["0x0000000000000000000000000000000000000000"],
							SmallLovePotion: ["0x0000000000000000000000000000000000000000"]
						},
					},
					sepolia: {
						networkID: 11155111,
						chainID: 11155111,
						provider: "https://sepolia.infura.io/v3/0be77c2f0459475d822b185ded148520",
						scanSites: ["https://sepolia.etherscan.io"],
						contractAddresses: {
							XToken: ["0x0000000000000000000000000000000000000000"],
							AXSToken: ["0x0000000000000000000000000000000000000000"],
							SmoothLovePotion: ["0x0000000000000000000000000000000000000000"],
							SmallLovePotion: ["0x0000000000000000000000000000000000000000"]
						},
					},
				}
				if (Web3.givenProvider) {
					const allScanSites = new Set(Object.values(networks).flatMap(x => x.scanSites || []))

					const allContractAddresses = {}
					for (let x of Object.values(networks)) {
						for (let a in x.contractAddresses) {
							if (!allContractAddresses[a]) allContractAddresses[a] = []
							x.contractAddresses[a].forEach(item => { if (!allContractAddresses[a].includes(item)) allContractAddresses[a].push(item) })
						}
					}

					networks.metamask = {
						provider: Web3.givenProvider,
						scanSites: allScanSites,
						contractAddresses: allContractAddresses
					}
				}
				const contracts = {
					XToken: {
						abi: '[{"inputs":[{"internalType":"address","name":"_mainchainGateway","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_oldAdmin","type":"address"},{"indexed":true,"internalType":"address","name":"_newAdmin","type":"address"}],"name":"AdminChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_oldAdmin","type":"address"}],"name":"AdminRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_owner","type":"address"},{"indexed":true,"internalType":"address","name":"_spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"_value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_minter","type":"address"}],"name":"MinterAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_minter","type":"address"}],"name":"MinterRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_from","type":"address"},{"indexed":true,"internalType":"address","name":"_to","type":"address"},{"indexed":false,"internalType":"uint256","name":"_value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address[]","name":"_addedMinters","type":"address[]"}],"name":"addMinters","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"admin","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"},{"internalType":"address","name":"_spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"_value","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_spender","type":"address"},{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_newAdmin","type":"address"}],"name":"changeAdmin","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_spender","type":"address"},{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_spender","type":"address"},{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_addr","type":"address"}],"name":"isMinter","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"mainchainGateway","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"mint","outputs":[{"internalType":"bool","name":"_success","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"minter","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"minters","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"removeAdmin","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"_removedMinters","type":"address[]"}],"name":"removeMinters","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"_success","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_from","type":"address"},{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"_success","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]',
						binary: '60806040523480156200001157600080fd5b50604051620030c1380380620030c18339818101604052810190620000379190620005bf565b6040518060400160405280600781526020017f582d546f6b656e000000000000000000000000000000000000000000000000008152506040518060400160405280600281526020017f58540000000000000000000000000000000000000000000000000000000000008152506000336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167f7e644d79422f17c01e4894b5f4f588d331ebfa28653d42ae832dc59e38c9798f60405160405180910390a382600690816200017191906200086b565b5081600790816200018391906200086b565b5080600860006101000a81548160ff021916908360ff160217905550505050620001b3816200027060201b60201c565b6000600167ffffffffffffffff811115620001d357620001d2620005fc565b5b604051908082528060200260200182016040528015620002025781602001602082028036833780820191505090505b50905081816000815181106200021d576200021c62000952565b5b602002602001019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff168152505062000268816200032660201b60201c565b505062000b18565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1603620002e2576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401620002d99062000a08565b60405180910390fd5b80600860016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614620003b7576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401620003ae9062000a7a565b60405180910390fd5b600080600090505b82518110156200055057828181518110620003df57620003de62000952565b5b60200260200101519150600260008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff166200053a576001829080600181540180825580915050600190039060005260206000200160009091909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506001600260008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055508173ffffffffffffffffffffffffffffffffffffffff167f6ae172837ea30b801fbfcdd4108aa1d5bf8ff775444fd70256b44e6bf3dfc3f660405160405180910390a25b8080620005479062000acb565b915050620003bf565b505050565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600062000587826200055a565b9050919050565b62000599816200057a565b8114620005a557600080fd5b50565b600081519050620005b9816200058e565b92915050565b600060208284031215620005d857620005d762000555565b5b6000620005e884828501620005a8565b91505092915050565b600081519050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b600060028204905060018216806200067357607f821691505b6020821081036200068957620006886200062b565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302620006f37fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82620006b4565b620006ff8683620006b4565b95508019841693508086168417925050509392505050565b6000819050919050565b6000819050919050565b60006200074c62000746620007408462000717565b62000721565b62000717565b9050919050565b6000819050919050565b62000768836200072b565b62000780620007778262000753565b848454620006c1565b825550505050565b600090565b6200079762000788565b620007a48184846200075d565b505050565b5b81811015620007cc57620007c06000826200078d565b600181019050620007aa565b5050565b601f8211156200081b57620007e5816200068f565b620007f084620006a4565b8101602085101562000800578190505b620008186200080f85620006a4565b830182620007a9565b50505b505050565b600082821c905092915050565b6000620008406000198460080262000820565b1980831691505092915050565b60006200085b83836200082d565b9150826002028217905092915050565b6200087682620005f1565b67ffffffffffffffff811115620008925762000891620005fc565b5b6200089e82546200065a565b620008ab828285620007d0565b600060209050601f831160018114620008e35760008415620008ce578287015190505b620008da85826200084d565b8655506200094a565b601f198416620008f3866200068f565b60005b828110156200091d57848901518255600182019150602085019450602081019050620008f6565b868310156200093d578489015162000939601f8916826200082d565b8355505b6001600288020188555050505b505050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600082825260208201905092915050565b7f45524332304761746577617957686974656c6973743a2073657474696e67206760008201527f61746577617920746f20746865207a65726f2061646472657373000000000000602082015250565b6000620009f0603a8362000981565b9150620009fd8262000992565b604082019050919050565b6000602082019050818103600083015262000a2381620009e1565b9050919050565b7f48617341646d696e3a206e6f742061646d696e00000000000000000000000000600082015250565b600062000a6260138362000981565b915062000a6f8262000a2a565b602082019050919050565b6000602082019050818103600083015262000a958162000a53565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600062000ad88262000717565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff820362000b0d5762000b0c62000a9c565b5b600182019050919050565b6125998062000b286000396000f3fe608060405234801561001057600080fd5b50600436106101375760003560e01c806370a08231116100b85780639a202d471161007c5780639a202d4714610376578063a457c2d714610380578063a9059cbb146103b0578063aa271e1a146103e0578063dd62ed3e14610410578063f851a4401461044057610137565b806370a08231146102c057806371e2a657146102f05780638623ec7b1461030c5780638f2839701461033c57806395d89b411461035857610137565b806339509351116100ff57806339509351146101f65780633dd08c381461022657806340c10f19146102565780635a4ccad8146102865780635fc1964f146102a457610137565b806306fdde031461013c578063095ea7b31461015a57806318160ddd1461018a57806323b872dd146101a8578063313ce567146101d8575b600080fd5b61014461045e565b6040516101519190611a6a565b60405180910390f35b610174600480360381019061016f9190611b34565b6104ec565b6040516101819190611b8f565b60405180910390f35b610192610503565b60405161019f9190611bb9565b60405180910390f35b6101c260048036038101906101bd9190611bd4565b610509565b6040516101cf9190611b8f565b60405180910390f35b6101e061051f565b6040516101ed9190611c43565b60405180910390f35b610210600480360381019061020b9190611b34565b610532565b60405161021d9190611b8f565b60405180910390f35b610240600480360381019061023b9190611c5e565b6105d7565b60405161024d9190611b8f565b60405180910390f35b610270600480360381019061026b9190611b34565b6105f7565b60405161027d9190611b8f565b60405180910390f35b61028e610697565b60405161029b9190611c9a565b60405180910390f35b6102be60048036038101906102b99190611dfd565b6106bd565b005b6102da60048036038101906102d59190611c5e565b610a35565b6040516102e79190611bb9565b60405180910390f35b61030a60048036038101906103059190611dfd565b610a4d565b005b61032660048036038101906103219190611e46565b610c71565b6040516103339190611c9a565b60405180910390f35b61035660048036038101906103519190611c5e565b610cb0565b005b610360610e6a565b60405161036d9190611a6a565b60405180910390f35b61037e610ef8565b005b61039a60048036038101906103959190611b34565b61102c565b6040516103a79190611b8f565b60405180910390f35b6103ca60048036038101906103c59190611b34565b6110d1565b6040516103d79190611b8f565b60405180910390f35b6103fa60048036038101906103f59190611c5e565b6110e8565b6040516104079190611b8f565b60405180910390f35b61042a60048036038101906104259190611e73565b61113e565b6040516104379190611bb9565b60405180910390f35b610448611152565b6040516104559190611c9a565b60405180910390f35b6006805461046b90611ee2565b80601f016020809104026020016040519081016040528092919081815260200182805461049790611ee2565b80156104e45780601f106104b9576101008083540402835291602001916104e4565b820191906000526020600020905b8154815290600101906020018083116104c757829003601f168201915b505050505081565b60006104f9338484611176565b6001905092915050565b60035481565b600061051684848461133f565b90509392505050565b600860009054906101000a900460ff1681565b60006105cd33846105c885600560003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461142190919063ffffffff16565b611176565b6001905092915050565b60026020528060005260406000206000915054906101000a900460ff1681565b6000600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16610685576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161067c90611f85565b60405180910390fd5b61068f838361147a565b905092915050565b600860019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161461074b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161074290611ff1565b60405180910390fd5b600080600090505b825181101561087a5782818151811061076f5761076e612011565b5b60200260200101519150600260008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff1615610867576000600260008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055508173ffffffffffffffffffffffffffffffffffffffff167fe94479a9f7e1952cc78f2d6baab678adc1b772d936c6583def489e524cb6669260405160405180910390a25b80806108729061206f565b915050610753565b5060005b600180549050811015610a30576001818154811061089f5761089e612011565b5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169150600260008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16610a1c57600180808054905061092f91906120b7565b815481106109405761093f612011565b5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166001828154811061097f5761097e612011565b5b9060005260206000200160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060018080805490506109d991906120b7565b815481106109ea576109e9612011565b5b9060005260206000200160006101000a81549073ffffffffffffffffffffffffffffffffffffffff0219169055610a2b565b8080610a279061206f565b9150505b61087e565b505050565b60046020528060005260406000206000915090505481565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610adb576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610ad290611ff1565b60405180910390fd5b600080600090505b8251811015610c6c57828181518110610aff57610afe612011565b5b60200260200101519150600260008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16610c59576001829080600181540180825580915050600190039060005260206000200160009091909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506001600260008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055508173ffffffffffffffffffffffffffffffffffffffff167f6ae172837ea30b801fbfcdd4108aa1d5bf8ff775444fd70256b44e6bf3dfc3f660405160405180910390a25b8080610c649061206f565b915050610ae3565b505050565b60018181548110610c8157600080fd5b906000526020600020016000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610d3e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d3590611ff1565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1603610dad576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610da49061215d565b60405180910390fd5b8073ffffffffffffffffffffffffffffffffffffffff1660008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f7e644d79422f17c01e4894b5f4f588d331ebfa28653d42ae832dc59e38c9798f60405160405180910390a3806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b60078054610e7790611ee2565b80601f0160208091040260200160405190810160405280929190818152602001828054610ea390611ee2565b8015610ef05780601f10610ec557610100808354040283529160200191610ef0565b820191906000526020600020905b815481529060010190602001808311610ed357829003601f168201915b505050505081565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610f86576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f7d90611ff1565b60405180910390fd5b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167fa3b62bc36326052d97ea62d63c3d60308ed4c3ea8ac079dd8499f1e9c4f80c0f60405160405180910390a260008060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550565b60006110c733846110c285600560003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461159c90919063ffffffff16565b611176565b6001905092915050565b60006110de3384846115f5565b6001905092915050565b6000600260008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff169050919050565b600061114a83836118d5565b905092915050565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16036111e5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016111dc906121ef565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603611254576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161124b90612281565b60405180910390fd5b80600560008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925836040516113329190611bb9565b60405180910390a3505050565b60007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff61136c853361113e565b1461140b5761140a843361140585600560008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461159c90919063ffffffff16565b611176565b5b6114168484846115f5565b600190509392505050565b6000818361142f91906122a1565b905082811015611474576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161146b90612321565b60405180910390fd5b92915050565b60006114918260035461142190919063ffffffff16565b6003819055506114e982600460008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461142190919063ffffffff16565b600460008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508273ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef8460405161158a9190611bb9565b60405180910390a36001905092915050565b6000828211156115e1576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016115d89061238d565b60405180910390fd5b81836115ed91906120b7565b905092915050565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603611664576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161165b9061241f565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16036116d3576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016116ca906124b1565b60405180910390fd5b3073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603611741576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161173890612543565b60405180910390fd5b61179381600460008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461159c90919063ffffffff16565b600460008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555061182881600460008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461142190919063ffffffff16565b600460008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040516118c89190611bb9565b60405180910390a3505050565b6000600860019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603611954577fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff90506119d4565b600560008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205490505b92915050565b600081519050919050565b600082825260208201905092915050565b60005b83811015611a145780820151818401526020810190506119f9565b60008484015250505050565b6000601f19601f8301169050919050565b6000611a3c826119da565b611a4681856119e5565b9350611a568185602086016119f6565b611a5f81611a20565b840191505092915050565b60006020820190508181036000830152611a848184611a31565b905092915050565b6000604051905090565b600080fd5b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000611acb82611aa0565b9050919050565b611adb81611ac0565b8114611ae657600080fd5b50565b600081359050611af881611ad2565b92915050565b6000819050919050565b611b1181611afe565b8114611b1c57600080fd5b50565b600081359050611b2e81611b08565b92915050565b60008060408385031215611b4b57611b4a611a96565b5b6000611b5985828601611ae9565b9250506020611b6a85828601611b1f565b9150509250929050565b60008115159050919050565b611b8981611b74565b82525050565b6000602082019050611ba46000830184611b80565b92915050565b611bb381611afe565b82525050565b6000602082019050611bce6000830184611baa565b92915050565b600080600060608486031215611bed57611bec611a96565b5b6000611bfb86828701611ae9565b9350506020611c0c86828701611ae9565b9250506040611c1d86828701611b1f565b9150509250925092565b600060ff82169050919050565b611c3d81611c27565b82525050565b6000602082019050611c586000830184611c34565b92915050565b600060208284031215611c7457611c73611a96565b5b6000611c8284828501611ae9565b91505092915050565b611c9481611ac0565b82525050565b6000602082019050611caf6000830184611c8b565b92915050565b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b611cf282611a20565b810181811067ffffffffffffffff82111715611d1157611d10611cba565b5b80604052505050565b6000611d24611a8c565b9050611d308282611ce9565b919050565b600067ffffffffffffffff821115611d5057611d4f611cba565b5b602082029050602081019050919050565b600080fd5b6000611d79611d7484611d35565b611d1a565b90508083825260208201905060208402830185811115611d9c57611d9b611d61565b5b835b81811015611dc55780611db18882611ae9565b845260208401935050602081019050611d9e565b5050509392505050565b600082601f830112611de457611de3611cb5565b5b8135611df4848260208601611d66565b91505092915050565b600060208284031215611e1357611e12611a96565b5b600082013567ffffffffffffffff811115611e3157611e30611a9b565b5b611e3d84828501611dcf565b91505092915050565b600060208284031215611e5c57611e5b611a96565b5b6000611e6a84828501611b1f565b91505092915050565b60008060408385031215611e8a57611e89611a96565b5b6000611e9885828601611ae9565b9250506020611ea985828601611ae9565b9150509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680611efa57607f821691505b602082108103611f0d57611f0c611eb3565b5b50919050565b7f73656e646572206973206e6f7420616e20617574686f72697a6564206d696e7460008201527f6572000000000000000000000000000000000000000000000000000000000000602082015250565b6000611f6f6022836119e5565b9150611f7a82611f13565b604082019050919050565b60006020820190508181036000830152611f9e81611f62565b9050919050565b7f48617341646d696e3a206e6f742061646d696e00000000000000000000000000600082015250565b6000611fdb6013836119e5565b9150611fe682611fa5565b602082019050919050565b6000602082019050818103600083015261200a81611fce565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600061207a82611afe565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82036120ac576120ab612040565b5b600182019050919050565b60006120c282611afe565b91506120cd83611afe565b92508282039050818111156120e5576120e4612040565b5b92915050565b7f48617341646d696e3a206e65772061646d696e20697320746865207a65726f2060008201527f6164647265737300000000000000000000000000000000000000000000000000602082015250565b60006121476027836119e5565b9150612152826120eb565b604082019050919050565b600060208201905081810360008301526121768161213a565b9050919050565b7f45524332303a20617070726f76652066726f6d20746865207a65726f2061646460008201527f7265737300000000000000000000000000000000000000000000000000000000602082015250565b60006121d96024836119e5565b91506121e48261217d565b604082019050919050565b60006020820190508181036000830152612208816121cc565b9050919050565b7f45524332303a20617070726f766520746f20746865207a65726f20616464726560008201527f7373000000000000000000000000000000000000000000000000000000000000602082015250565b600061226b6022836119e5565b91506122768261220f565b604082019050919050565b6000602082019050818103600083015261229a8161225e565b9050919050565b60006122ac82611afe565b91506122b783611afe565b92508282019050808211156122cf576122ce612040565b5b92915050565b7f536166654d6174683a206164646974696f6e206f766572666c6f770000000000600082015250565b600061230b601b836119e5565b9150612316826122d5565b602082019050919050565b6000602082019050818103600083015261233a816122fe565b9050919050565b7f536166654d6174683a207375627472616374696f6e206f766572666c6f770000600082015250565b6000612377601e836119e5565b915061238282612341565b602082019050919050565b600060208201905081810360008301526123a68161236a565b9050919050565b7f45524332303a207472616e736665722066726f6d20746865207a65726f20616460008201527f6472657373000000000000000000000000000000000000000000000000000000602082015250565b60006124096025836119e5565b9150612414826123ad565b604082019050919050565b60006020820190508181036000830152612438816123fc565b9050919050565b7f45524332303a207472616e7366657220746f20746865207a65726f206164647260008201527f6573730000000000000000000000000000000000000000000000000000000000602082015250565b600061249b6023836119e5565b91506124a68261243f565b604082019050919050565b600060208201905081810360008301526124ca8161248e565b9050919050565b7f45524332303a207472616e7366657220746f207468697320636f6e747261637460008201527f2061646472657373000000000000000000000000000000000000000000000000602082015250565b600061252d6028836119e5565b9150612538826124d1565b604082019050919050565b6000602082019050818103600083015261255c81612520565b905091905056fea26469706673582212200ccf5e49a13499f9bd6698355fdce21c72c98ea66aaf4c9ae1f54be28444efb264736f6c63430008100033'
					},
					AXSToken: {
						abi: '[{"inputs":[{"internalType":"address","name":"_mainchainGateway","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_owner","type":"address"},{"indexed":true,"internalType":"address","name":"_spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"_value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_from","type":"address"},{"indexed":true,"internalType":"address","name":"_to","type":"address"},{"indexed":false,"internalType":"uint256","name":"_value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"},{"internalType":"address","name":"_spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"_value","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_spender","type":"address"},{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_spender","type":"address"},{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_spender","type":"address"},{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"mainchainGateway","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"_success","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_from","type":"address"},{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"_success","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]',
					},
					SmoothLovePotion: {
						abi: '[{"inputs":[{"internalType":"address","name":"_mainchainGateway","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_oldAdmin","type":"address"},{"indexed":true,"internalType":"address","name":"_newAdmin","type":"address"}],"name":"AdminChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_oldAdmin","type":"address"}],"name":"AdminRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_owner","type":"address"},{"indexed":true,"internalType":"address","name":"_spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"_value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_minter","type":"address"}],"name":"MinterAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_minter","type":"address"}],"name":"MinterRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_from","type":"address"},{"indexed":true,"internalType":"address","name":"_to","type":"address"},{"indexed":false,"internalType":"uint256","name":"_value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address[]","name":"_addedMinters","type":"address[]"}],"name":"addMinters","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"admin","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"},{"internalType":"address","name":"_spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"_value","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_spender","type":"address"},{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_newAdmin","type":"address"}],"name":"changeAdmin","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_spender","type":"address"},{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_spender","type":"address"},{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_addr","type":"address"}],"name":"isMinter","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"mainchainGateway","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"mint","outputs":[{"internalType":"bool","name":"_success","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"minter","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"minters","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"removeAdmin","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"_removedMinters","type":"address[]"}],"name":"removeMinters","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"_success","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_from","type":"address"},{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"_success","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]',
					},
					SmallLovePotion: {
						abi: '[{"inputs":[{"internalType":"address","name":"_mainchainGateway","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_oldAdmin","type":"address"},{"indexed":true,"internalType":"address","name":"_newAdmin","type":"address"}],"name":"AdminChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_oldAdmin","type":"address"}],"name":"AdminRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_owner","type":"address"},{"indexed":true,"internalType":"address","name":"_spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"_value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_minter","type":"address"}],"name":"MinterAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_minter","type":"address"}],"name":"MinterRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_from","type":"address"},{"indexed":true,"internalType":"address","name":"_to","type":"address"},{"indexed":false,"internalType":"uint256","name":"_value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address[]","name":"_addedMinters","type":"address[]"}],"name":"addMinters","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"admin","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"},{"internalType":"address","name":"_spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"_value","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_spender","type":"address"},{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_newAdmin","type":"address"}],"name":"changeAdmin","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_spender","type":"address"},{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_spender","type":"address"},{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_addr","type":"address"}],"name":"isMinter","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"mainchainGateway","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"mint","outputs":[{"internalType":"bool","name":"_success","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"minter","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"minters","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"removeAdmin","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"_removedMinters","type":"address[]"}],"name":"removeMinters","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"_success","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_from","type":"address"},{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"_success","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]',
					},
				};

				let web3 = undefined;

				const myWallets = [{
					address: "0x1422f054C92c81944776A2e69b6aD9D25908489D",
					privateKey: "3d1e0a261619b1662b3c71c5982238c790d459c3f5bfea5edb0ac0f1f1f96505",
					name: "mainnet acc"
				}, {
					address: "0xd49647d67F7d5072b484F9e1eA5747924D5b49c6",
					privateKey: "06ffe5b3abb68fe9b476e8d2855538a3deb1472dea716eca64a48636de7f00cc",
					name: "mainnet acc 2"
				}]
				const otherWallets = [{
					address: "0x81b7e08f65bdf5648606c89998a9cc8164397647",
					name: "Metamask faucet"
				},]

				const selectWallet = document.querySelector("div#my-wallets");
				/** @type {NodeListOf<HTMLSelectElement>} selectAccForBalanceCheck */
				const selectAccountElmts = document.querySelectorAll("select.select-account");
				/** @type {NodeListOf<HTMLSelectElement>} selectAccForBalanceCheck */
				const selectPrivateKeyElmts = document.querySelectorAll("select.select-private-key");
				for (let item of myWallets.concat(otherWallets)) {
					const input = document.createElement("input");
					input.type = 'radio';
					input.name = 'my-wallet';
					input.id = `wallet-${item.address}`;
					input.value = item.address;
					input.disabled = true
					selectWallet.appendChild(input);

					const label = document.createElement("label");
					label.htmlFor = input.id
					label.innerHTML = `${item.address} - ${item.name}`
					selectWallet.appendChild(label);
					selectWallet.appendChild(document.createElement("br"));

					const option = document.createElement("option");
					option.text = `default - ${item.address} - ${item.name}`;
					option.value = item.address;
					selectAccountElmts.forEach(elm => elm.add(option.cloneNode(true)));

					if (item.privateKey) {
						const optionPrivateKey = document.createElement("option");
						option.text = `default - ${item.address} - ${item.name} - ${item.privateKey}`;
						option.value = item.privateKey;
						selectPrivateKeyElmts.forEach(elm => elm.add(option.cloneNode(true)));
					}
				}

				/** @type {HTMLSelectElement} selectNetwork */
				const selectNetwork = document.querySelector("select#select-network");
				for (let i in networks) {
					const option = document.createElement("option");
					option.text = i;
					option.value = i;
					selectNetwork.add(option);
				}

				/** @type {HTMLSelectElement} selectContract */
				const selectContract = document.querySelector("select#select-contract");

				/** @type {NodeListOf<HTMLSelectElement>} selectAccForBalanceCheck */
				const selectContractElements = document.querySelectorAll("select.select-contract");
				/** @type {NodeListOf<HTMLSelectElement>} selectContractForCreate */
				const selectContractForCreate = document.querySelectorAll("select.select-contract-create");
				for (let i in contracts) {
					const option = document.createElement("option");
					option.text = i;
					option.value = i;
					selectContractElements.forEach(x => x.add(option.cloneNode(true)));
					if (contracts[i].binary)
						selectContractForCreate.forEach(x => x.add(option.cloneNode(true)));
				}

				async function onNetworkChange(value) {
					console.log(`--  onNetworkChange:`, value);

					const outputConsole = document.getElementById("node-info");

					try {
						outputConsole.innerHTML = null;

						const network = networks[value];

						document.getElementById("ntw-id").innerHTML = network.networkID;
						document.getElementById("ntw-chain-id").innerHTML = network.chainID;
						document.getElementById("ntw-provider").innerHTML = network.provider;
						document.getElementById("ntw-contract-addresses").innerHTML = (network.contractAddresses && JSON.stringify(network.contractAddresses)) || null;

						const scanSiteSelectElm = document.querySelector('#ntw-scan .site')
						for (let i = scanSiteSelectElm.length - 1; i >= 0; i--)
							scanSiteSelectElm.remove(i)
						network.scanSites?.forEach(site => {
							const option = document.createElement("option");
							option.text = site;
							scanSiteSelectElm.add(option)
						})

						try {
							await web3?.currentProvider.disconnect?.call();
						} catch (e) {
							console.error("!-  disconnect - error:", e);
							outputConsole.innerHTML += "\n!-  disconnect - error: " + objToString(e) + '\n';
							Snackbar.e("disconnect: " + objToString(e));
						}
						web3 = new Web3(network.provider);

						onAccountsUpdate([]);
						onContractChange("onNetworkChange", selectContract.value);

						document.querySelectorAll('.reset-on-network-change .output-console').forEach(x => x.innerHTML = null)
						// await getNetworkInfo('onNetworkChange')
					} catch (e) {
						console.error("!-  onNetworkChange - error:", e);
						outputConsole.innerHTML += "\n!-  onNetworkChange - error: " + objToString(e);
						Snackbar.e("onNetworkChange: " + objToString(e));
					} finally {
						outputConsole.innerHTML += "\n\n-------\nDONE";
					}
				}

				async function getNetworkInfo(tag) {
					const outputConsole = document.querySelector('#ntw-info .output-console');

					try {
						const network = selectNetwork.value && networks[selectNetwork.value];

						if (!web3) {
							Snackbar.w("Please select network");
							return
						}

						outputConsole.innerHTML = "--  web3.providers: " + web3.providers
							+ "\n--  web3.currentProvider: " + web3.currentProvider

						outputConsole.innerHTML += "\n"
							+ "\n--  web3.eth.defaultAccount: " + web3.eth.defaultAccount
							+ "\n--  web3.eth.defaultBlock: " + web3.eth.defaultBlock
							+ "\n--  web3.eth.defaultHardfork: " + web3.eth.defaultHardfork
							+ "\n--  web3.eth.defaultChain: " + web3.eth.defaultChain
							+ "\n--  web3.eth.defaultCommon: " + web3.eth.defaultCommon
							+ "\n--  web3.eth.transactionBlockTimeout: " + web3.eth.transactionBlockTimeout
							+ "\n--  web3.eth.transactionConfirmationBlocks: " + web3.eth.transactionConfirmationBlocks
							+ "\n--  web3.eth.transactionPollingTimeout: " + web3.eth.transactionPollingTimeout
							+ "\n--  web3.eth.handleRevert: " + web3.eth.handleRevert
							+ "\n--  web3.eth.maxListenersWarningThreshold: " + web3.eth.maxListenersWarningThreshold
						outputConsole.innerHTML += "\n--  web3.eth.getProtocolVersion: " + await web3.eth.getProtocolVersion()
						outputConsole.innerHTML += "\n--  web3.eth.isSyncing: " + JSON.stringify(await web3.eth.isSyncing())
						try {
							outputConsole.innerHTML += "\n--  web3.eth.getCoinbase: " + await web3.eth.getCoinbase()
						} catch (e) {
							console.error("!-  web3.eth.getCoinbase:", e);
							outputConsole.innerHTML += "\n!-  web3.eth.getCoinbase - error: " + objToString(e)
						}
						outputConsole.innerHTML += "\n--  web3.eth.isMining: " + await web3.eth.isMining()
						outputConsole.innerHTML += "\n--  web3.eth.getHashrate: " + await web3.eth.getHashrate()
						outputConsole.innerHTML += "\n--  web3.eth.getGasPrice: " + await web3.eth.getGasPrice()
						outputConsole.innerHTML += "\n--  web3.eth.getBlockNumber: " + await web3.eth.getBlockNumber()
						try {
							outputConsole.innerHTML += "\n--  web3.eth.getBlockTransactionCount(...): " + await web3.eth.getBlockTransactionCount()
						} catch (e) {
							console.error("!-  web3.eth.getBlockTransactionCount:", e);
							outputConsole.innerHTML += "\n!-  web3.eth.getBlockTransactionCount - error: " + objToString(e)
						}
						try {
							outputConsole.innerHTML += "\n--  web3.eth.getBlockUncleCount(...): " + await web3.eth.getBlockUncleCount()
						} catch (e) {
							console.error("!-  web3.eth.getBlockUncleCount:", e);
							outputConsole.innerHTML += "\n!-  web3.eth.getBlockUncleCount - error: " + objToString(e)
						}
						try {
							outputConsole.innerHTML += "\n--  web3.eth.getUncle(...): " + JSON.stringify(await web3.eth.getUncle())
						} catch (e) {
							console.error("!-  web3.eth.getUncle:", e);
							outputConsole.innerHTML += "\n!-  web3.eth.getUncle - error: " + objToString(e)
						}
						const chainID = await web3.eth.getChainId()
						if (network.chainID && chainID != network.chainID)
							outputConsole.innerHTML += "\n!-  web3.eth.getChainId: " + chainID + " --> this is different from known ID"
						else if (!network.chainID)
							outputConsole.innerHTML += "\n--  web3.eth.getChainId: " + chainID + " --> " + Object.entries(networks).filter(x => x[1].chainID == chainID).map(x => x[0]).join(' | ')
						else
							outputConsole.innerHTML += "\n--  web3.eth.getChainId: " + chainID
						outputConsole.innerHTML += "\n--  web3.eth.getNodeInfo: " + await web3.eth.getNodeInfo()

						outputConsole.innerHTML += "\n"
						const netID = await web3.eth.net.getId()
						if (network.networkID && netID != network.networkID)
							outputConsole.innerHTML += "\n!-  web3.eth.net.getId: " + netID + " --> this is different from known ID"
						else if (!network.networkID)
							outputConsole.innerHTML += "\n--  web3.eth.net.getId: " + netID + " --> " + Object.entries(networks).filter(x => x[1].networkID == netID).map(x => x[0]).join(' | ')
						else
							outputConsole.innerHTML += "\n--  web3.eth.net.getId: " + netID
						outputConsole.innerHTML += "\n--  web3.eth.net.isListening: " + await web3.eth.net.isListening()
						outputConsole.innerHTML += "\n--  web3.eth.net.getPeerCount: " + await web3.eth.net.getPeerCount()
						outputConsole.innerHTML += "\n"
						try {
							outputConsole.innerHTML += "\n--  web3.bzz.net.getId: " + await web3.bzz.net.getId()
							outputConsole.innerHTML += "\n--  web3.bzz.net.isListening: " + await web3.bzz.net.isListening()
							outputConsole.innerHTML += "\n--  web3.bzz.net.getPeerCount: " + await web3.bzz.net.getPeerCount()
						} catch (e) {
							console.error("!-  web3.bzz.net:", e);
							outputConsole.innerHTML += "\n!-  web3.bzz.net - error: " + objToString(e)
						}
						outputConsole.innerHTML += "\n"
						try {
							outputConsole.innerHTML += "\n--  web3.shh.net.getId: " + await web3.shh.net.getId()
							outputConsole.innerHTML += "\n--  web3.shh.net.isListening: " + await web3.shh.net.isListening()
							outputConsole.innerHTML += "\n--  web3.shh.net.getPeerCount: " + await web3.shh.net.getPeerCount()
							outputConsole.innerHTML += "\n--  web3.shh.getVersion: " + await web3.shh.getVersion()
							outputConsole.innerHTML += "\n--  web3.shh.getInfo: " + await web3.shh.getInfo()
						} catch (e) {
							console.error("!-  web3.shh.net:", e);
							outputConsole.innerHTML += "\n!-  web3.shh.net - error: " + objToString(e)
						}

						outputConsole.innerHTML += "\n"
						outputConsole.innerHTML += "\n--  web3.eth.Contract.defaultAccount: " + web3.eth.Contract.defaultAccount
					} catch (e) {
						console.error("!-  getNetworkInfo - error:", e);
						outputConsole.innerHTML += "\n!-  getNetworkInfo - error: " + objToString(e);
						Snackbar.e("getNetworkInfo: " + objToString(e));
					} finally {
						outputConsole.innerHTML += "\n\n-------\nDONE";
					}
				}

				function scan(tag, path, value) {
					const base = $('#ntw-scan .site').val()
					if (!base) Snackbar.w("Please select network");
					else if (!path || !value) Snackbar.w('Please input values')
					else {
						const url = new URL('/' + path + '/' + value, base)
						window.open(url, '_blank').focus()
					}
				}

				function onAccountsUpdate(accs) {
					selectAccountElmts.forEach(elm => {
						for (let i = elm.length - 1; i > 0; i--)
							if (!elm.options[i].text.includes('default - '))
								elm.remove(i)
					})

					for (let i of accs) {
						const option = document.createElement("option");
						option.text = i;
						option.value = i;
						selectAccountElmts.forEach(elm => { elm.add(option.cloneNode(true)); })
					}

					document.querySelector("#account-balance-check .output-console").innerHTML = null;
					document.querySelector("#account-token-balance-check .output-console").innerHTML = null;
				}

				async function getAccounts(tag) {
					const outputConsole = document.querySelector("#get-accounts .output-console");

					try {
						outputConsole.innerHTML = '...';

						if (!web3) Snackbar.w("Please select network");
						else {
							await web3.eth.getAccounts().then((accs) => {
								console.info("<-- getAccounts:", accs);

								outputConsole.innerHTML = accs.join("\n");

								onAccountsUpdate(accs);
							});
						}
					} catch (e) {
						console.error("!-  getAccounts - error:", e);
						outputConsole.innerHTML += "\n!-  getAccounts - error: " + objToString(e);
						Snackbar.e("getAccounts: " + objToString(e));
					} finally {
						outputConsole.innerHTML += "\n\n-------\nDONE";
					}
				}

				async function getAccountsPersonal(tag) {
					const outputConsole = document.querySelector("#get-accounts-p .output-console");

					try {
						outputConsole.innerHTML = '...';

						if (!web3) Snackbar.w("Please select network");
						else {
							await web3.eth.personal.getAccounts().then(accs => {
								console.info("<-- getAccountsPersonal:", accs);

								outputConsole.innerHTML = accs.join("\n");

								onAccountsUpdate(accs);
							});
						}
					} catch (e) {
						console.error("!-  getAccountsPersonal - error:", e);
						outputConsole.innerHTML += "\n!-  getAccountsPersonal - error: " + objToString(e);
						Snackbar.e("getAccountsPersonal: " + objToString(e));
					} finally {
						outputConsole.innerHTML += "\n\n-------\nDONE";
					}
				}

				async function requestAccounts() {
					const outputConsole = document.querySelector("#request-accounts .output-console");

					try {
						outputConsole.innerHTML = '...';

						if (!web3) Snackbar.w("Please select network");
						else {
							await web3.eth.requestAccounts().then((accs) => {
								console.info("<-- requestAccounts:", accs);

								outputConsole.innerHTML = accs.join("\n");
							});
						}
					} catch (e) {
						console.error("!-  requestAccounts - error:", e);
						outputConsole.innerHTML += "\n!-  requestAccounts - error: " + objToString(e);
						Snackbar.e("requestAccounts: " + objToString(e));
					} finally {
						outputConsole.innerHTML += "\n\n-------\nDONE";
					}
				}

				function onChangeAccForBalanceCheck(account) {
					if (account) document.querySelector("#account-balance-check input").value = null;
					getAccountBalance("onChangeAccForBalanceCheck", account, "#account-balance-check .output-console");
				}

				async function getAccountBalance(tag, account, outputID) {
					console.info(`--  getAccountBalance [${tag}] {${account}}`);

					const outputConsole = document.querySelector(outputID);

					try {
						outputConsole.innerHTML = '...';

						if (!web3) Snackbar.w("Please select network");
						else if (!account) Snackbar.w("Please select account");
						else {
							await web3.eth.getBalance(account).then((blnc) => {
								console.info(`<-- getBalance {${account}}:`, blnc);
								outputConsole.innerHTML = blnc;
							});
						}
					} catch (e) {
						console.error("!-  getAccountBalance - error:", e);
						outputConsole.innerHTML += "\n!-  getAccountBalance - error: " + objToString(e);
						Snackbar.e("getAccountBalance: " + objToString(e));
					} finally {
						// outputConsole.innerHTML += "\n\n-------\nDONE";
					}
				}

				async function getAccountBalanceFromPrivateKey(tag, privateKey, outputID) {
					console.info(`--  getAccountBalanceFromPrivateKey [${tag}] {${privateKey}}`);

					const outputConsole = document.querySelector(outputID);

					try {
						outputConsole.innerHTML = '...';

						if (!web3) Snackbar.w("Please select network");
						else if (!privateKey) Snackbar.w("Please input privateKey");
						else {
							const account = web3.eth.accounts.privateKeyToAccount(privateKey)
							console.info(`--  privateKeyToAccount {${privateKey}}:`, account);
							outputConsole.innerHTML = "acc: " + JSON.stringify(account);

							await web3.eth.getBalance(account.address).then((blnc) => {
								console.info(`<-- getBalance {${account.address}}:`, blnc);
								outputConsole.innerHTML += "\n> " + blnc;
							});
						}
					} catch (e) {
						console.error("!-  getAccountBalanceFromPrivateKey - error:", e);
						outputConsole.innerHTML += "\n!-  getAccountBalanceFromPrivateKey - error: " + objToString(e);
						Snackbar.e("getAccountBalanceFromPrivateKey: " + objToString(e));
					}
				}

				async function getStorageAt(tag, address, position, block) {
					console.info(`--  getStorageAt [${tag}] {${address} | ${position} | ${block}}`);

					block = block || undefined

					const outputConsole = document.querySelector("#get-storage .output-console");

					try {
						outputConsole.innerHTML = '...';

						if (!web3) Snackbar.w("Please select network");
						else if (!address) Snackbar.w("Please enter address");
						else {
							await web3.eth.getStorageAt(address, position, block).then((value) => {
								console.info(`<-- getStorageAt {${address} | ${position} | ${block}}:`, value);
								outputConsole.innerHTML = value;
							});
						}
					} catch (e) {
						console.error("!-  getStorageAt - error:", e);
						outputConsole.innerHTML += "\n!-  getStorageAt - error: " + objToString(e);
						Snackbar.e("getStorageAt: " + objToString(e));
					} finally {
						outputConsole.innerHTML += "\n\n-------\nDONE";
					}
				}

				async function getCode(tag, address, block) {
					console.info(`--  getCode [${tag}] {${address} | ${block}}`);

					block = block || undefined

					const outputConsole = document.getElementById("code-info");

					try {
						outputConsole.innerHTML = '...';

						if (!web3) Snackbar.w("Please select network");
						else if (!address) Snackbar.w("Please enter address");
						else {
							await web3.eth.getCode(address, block).then((code) => {
								console.info(`<-- getCode {${address} | ${block}}:`, code);
								outputConsole.innerHTML = code;
							});
						}
					} catch (e) {
						console.error("!-  getCode - error:", e);
						outputConsole.innerHTML += "\n!-  getCode - error: " + objToString(e);
						Snackbar.e("getCode: " + objToString(e));
					} finally {
						outputConsole.innerHTML += "\n\n-------\nDONE";
					}
				}

				async function getBlock(tag, blockHashOrBlockNumber, returnTransactionObjects) {
					console.info(`--  getBlock [${tag}] {${blockHashOrBlockNumber} | ${returnTransactionObjects}}`);

					const outputConsole = document.getElementById("block-info");

					try {
						outputConsole.innerHTML = '...';

						if (!web3) Snackbar.w("Please select network");
						else if (!blockHashOrBlockNumber) Snackbar.w("Please enter block Hash/Number");
						else {
							await web3.eth.getBlock(blockHashOrBlockNumber, returnTransactionObjects).then(block => {
								console.info(`<-- getBlock {${blockHashOrBlockNumber} | ${returnTransactionObjects}}:`, block);
								outputConsole.innerHTML = JSON.stringify(block, null, 2);
							});
						}
					} catch (e) {
						console.error("!-  getBlock - error:", e);
						outputConsole.innerHTML += "\n!-  getBlock - error: " + objToString(e);
						Snackbar.e("getBlock: " + objToString(e));
					} finally {
						outputConsole.innerHTML += "\n\n-------\nDONE";
					}
				}

				async function getTransaction(tag, transactionHash) {
					console.info(`--  getTransaction [${tag}] {${transactionHash}}`);

					const outputConsole = document.getElementById("trans-info");

					try {
						outputConsole.innerHTML = '...';

						if (!web3) Snackbar.w("Please select network");
						else if (!transactionHash) Snackbar.w("Please enter trans hash");
						else {
							await web3.eth.getTransaction(transactionHash).then(trans => {
								console.info(`<-- getTransaction {${transactionHash}}:`, trans);
								outputConsole.innerHTML = JSON.stringify(trans, null, 2);
							});
						}
					} catch (e) {
						console.error("!-  getTransaction - error:", e);
						outputConsole.innerHTML += "\n!-  getTransaction - error: " + objToString(e);
						Snackbar.e("getTransaction: " + objToString(e));
					} finally {
						outputConsole.innerHTML += "\n\n-------\nDONE";
					}
				}

				async function getPendingTransactions(tag) {
					console.info(`--  getPendingTransactions [${tag}]`);

					const outputConsole = document.getElementById("pending-trans-info");

					try {
						outputConsole.innerHTML = '...';

						if (!web3) Snackbar.w("Please select network");
						else {
							await web3.eth.getPendingTransactions().then(trans => {
								console.info(`<-- getPendingTransactions:`, trans);
								outputConsole.innerHTML = trans;
							});
						}
					} catch (e) {
						console.error("!-  getPendingTransactions - error:", e);
						outputConsole.innerHTML += "\n!-  getPendingTransactions - error: " + objToString(e);
						Snackbar.e("getPendingTransactions: " + objToString(e));
					} finally {
						outputConsole.innerHTML += "\n\n-------\nDONE";
					}
				}

				async function getTransactionCount(tag, address, block) {
					console.info(`--  getTransactionCount [${tag}] {${address} | ${block}}`);

					block = block || undefined

					const outputConsole = document.querySelector("#get-trans-count .output-console");

					try {
						outputConsole.innerHTML = '...';

						if (!web3) Snackbar.w("Please select network");
						else if (!address) Snackbar.w("Please enter address");
						else {
							await web3.eth.getTransactionCount(address, block).then(count => {
								console.info(`<-- getTransactionCount {${address}}:`, count);
								outputConsole.innerHTML = count;
							});
						}
					} catch (e) {
						console.error("!-  getTransactionCount - error:", e);
						outputConsole.innerHTML += "\n!-  getTransactionCount - error: " + objToString(e);
						Snackbar.e("getTransactionCount: " + objToString(e));
					} finally {
						outputConsole.innerHTML += "\n\n-------\nDONE";
					}
				}

				async function getWork(tag) {
					console.info(`--  getWork [${tag}]`);

					const outputConsole = document.getElementById("work-info");

					try {
						outputConsole.innerHTML = '...';

						if (!web3) Snackbar.w("Please select network");
						else {
							await web3.eth.getWork((err, result) => {
								console.info(`<-- getWork:`, err, '|', result);
							}).then(work => {
								console.info(`<-- getWork:`, work);
								outputConsole.innerHTML = work;
							});
						}
					} catch (e) {
						console.error("!-  getWork - error:", e);
						outputConsole.innerHTML += "\n!-  getWork - error: " + objToString(e);
						Snackbar.e("getWork: " + objToString(e));
					} finally {
						outputConsole.innerHTML += "\n\n-------\nDONE";
					}
				}

				async function submitWork(tag, nonce, powHash, digest) {
					console.info(`--  submitWork [${tag}] {${nonce} | ${powHash} | ${digest}}`);

					const outputConsole = document.getElementById("submit-work-result");

					try {
						outputConsole.innerHTML = '...';

						if (!web3) Snackbar.w("Please select network");
						else if (!nonce) Snackbar.w("Please enter nonce");
						else if (!powHash) Snackbar.w("Please enter powHash");
						else if (!digest) Snackbar.w("Please enter digest");
						else {
							await web3.eth.submitWork(nonce, powHash, digest).then(solutionIsValid => {
								console.info(`<-- submitWork {${nonce} | ${powHash} | ${digest}}:`, solutionIsValid);
								outputConsole.innerHTML = solutionIsValid;
							});
						}
					} catch (e) {
						console.error("!-  submitWork - error:", e);
						outputConsole.innerHTML += "\n!-  submitWork - error: " + objToString(e);
						Snackbar.e("submitWork: " + objToString(e));
					} finally {
						outputConsole.innerHTML += "\n\n-------\nDONE";
					}
				}

				async function createAccount() {
					console.info(`--  createAccount`);

					const outputConsole = document.getElementById("new-account");

					try {
						outputConsole.innerHTML = '...';

						if (!web3) Snackbar.w("Please select network");
						else {
							await web3.eth.personal.newAccount("!@superpassword")
								.then((acc) => {
									console.info("<-- newAccount:", acc);
									outputConsole.innerHTML = acc;

									const option = document.createElement("option");
									option.text = "new - " + acc;
									option.value = acc;
									selectAccountElmts.forEach(x => x.add(option.cloneNode(true)));
								});
						}
					} catch (e) {
						console.error("!-  createAccount - error:", e);
						outputConsole.innerHTML += "\n!-  createAccount - error: " + objToString(e);
						Snackbar.e("createAccount: " + objToString(e));
					} finally {
						outputConsole.innerHTML += "\n\n-------\nDONE";
					}
				}

				async function unlockAccount(tag, address, password, unlockDuration) {
					console.log(`--  unlockAccount [${tag}] {${address} | ${password} | ${unlockDuration}}`);

					const outputConsole = document.getElementById("unlock-acc-result");

					try {
						outputConsole.innerHTML = '...';

						if (!web3) Snackbar.w("Please select network");
						else if (!address) Snackbar.w("Please enter address");
						else if (!password) Snackbar.w("Please enter password");
						else if (!unlockDuration) Snackbar.w("Please enter unlockDuration");
						else {
							await web3.eth.personal.unlockAccount(address, password, unlockDuration)
								.then((result) => {
									console.info("<-- unlockAccount:", result);
									outputConsole.innerHTML = "unlockAccount: " + result;
								});
						}
					} catch (e) {
						console.error("!-  unlockAccount - error:", e);
						outputConsole.innerHTML += "\n!-  unlockAccount - error: " + objToString(e);
						Snackbar.e("unlockAccount: " + objToString(e));
					} finally {
						outputConsole.innerHTML += "\n\n-------\nDONE";
					}
				}

				async function lockAccount(tag, address) {
					console.log(`--  lockAccount [${tag}] {${address}}`);

					const outputConsole = document.getElementById("lock-acc-result");

					try {
						outputConsole.innerHTML = '...';

						if (!web3) Snackbar.w("Please select network");
						else if (!address) Snackbar.w("Please enter address");
						else {
							await web3.eth.personal.lockAccount(address)
								.then((result) => {
									console.info("<-- lockAccount:", result);
									outputConsole.innerHTML = "lockAccount: " + result;
								});
						}
					} catch (e) {
						console.error("!-  lockAccount - error:", e);
						outputConsole.innerHTML += "\n!-  lockAccount - error: " + objToString(e);
						Snackbar.e("lockAccount: " + objToString(e));
					} finally {
						outputConsole.innerHTML += "\n\n-------\nDONE";
					}
				}

				async function signData(tag, msg, acc, pw) {
					console.info(`--  signData [${tag}] {${msg} | ${acc} | ${pw}}`);

					const outputConsole = document.getElementById("new-signature");

					try {
						outputConsole.innerHTML = '...';

						if (!web3) Snackbar.w("Please select network");
						else if (!msg) Snackbar.w("Please enter msg");
						else if (!acc) Snackbar.w("Please enter acc");
						else if (!pw) Snackbar.w("Please enter pw");
						else {
							await web3.eth.personal.sign(msg, acc, pw)
								.then((signature) => {
									console.info("<-- sign:", signature);
									outputConsole.innerHTML = signature;
								});
						}
					} catch (e) {
						console.error("!-  signData - error:", e);
						outputConsole.innerHTML += "\n!-  signData - error: " + objToString(e);
						Snackbar.e("signData: " + objToString(e));
					} finally {
						outputConsole.innerHTML += "\n\n-------\nDONE";
					}
				}

				// ----------------------

				async function sendTransaction(tag) {
					const outputConsole = document.querySelector("#trans .output-console");

					try {
						outputConsole.innerHTML = '...';

						const toSign = document.querySelector('#trans .is-sign').checked
						const fromAddress = $("#trans .from-address input").val() || $("#trans .from-address select").val() || undefined;
						const privateKey = $("#trans .from-pkey input").val() || $("#trans .from-pkey select").val() || undefined;
						const to = $("#trans .to input").val() || $("#trans .to select").val() || undefined;
						const value = $("#trans .value").val() || undefined;
						const unit = $("#trans .unit").val() || undefined;
						const data = $("#trans .data").val() || undefined;
						const gas = $('#trans .gas input').val() || undefined

						console.log(`--  sendTransaction [${tag}] {${toSign} | ${fromAddress} | ${privateKey} | ${to} | ${value} | ${unit} | ${data} | ${gas}`);

						if (!web3) Snackbar.w("Please select network");
						else if (!toSign && !fromAddress) Snackbar.w("Please select From address");
						else if (toSign && !privateKey) Snackbar.w("Please select private key");
						else {
							if (toSign) {
								const signed = await web3.eth.accounts.signTransaction(
									{ to: to, value: value && web3.utils.toWei(value, unit), gas: gas, data: data, },
									privateKey,
									(err, result) => {
										console.info("<-- accounts.signTransaction:", err, "|", result);
										outputConsole.innerHTML += "\n<-- accounts.signTransaction: " + err + " | " + JSON.stringify(result) + "\n";
									}
								)

								await sendSignedRawTransaction(`sendTransaction|${tag}`, signed.rawTransaction, outputConsole)
							} else {
								await web3.eth.sendTransaction(
									{ from: fromAddress, to: to, value: value && web3.utils.toWei(value, unit), data: data, },
									(err, result) => {
										console.info("<-- sendTransaction:", err, "|", result);
									}
								).once("sending", function (payload) {
									console.info(`--  sending | payload: `, payload);
									outputConsole.innerHTML += "\n--  sending | payload: " + JSON.stringify(payload);
								}).once("sent", function (payload) {
									console.info(`--  sent | payload: `, payload);
									outputConsole.innerHTML += "\n--  sent | payload: " + JSON.stringify(payload);
								}).once("transactionHash", function (hash) {
									console.info(`--  transactionHash | hash: `, hash);
									outputConsole.innerHTML += "\n--  transactionHash | hash: " + hash;
								}).once("receipt", function (receipt) {
									console.info(`--  receipt | receipt: `, receipt);
									outputConsole.innerHTML += "\n--  receipt | receipt: " + receipt;
								}).on("confirmation", function (confNumber, receipt, latestBlockHash) {
									console.info(`--  on confirmation:`, confNumber, " | ", receipt, " | ", latestBlockHash);
									outputConsole.innerHTML += "\n--  on confirmation: " + confNumber + " | " + receipt + " | " + latestBlockHash;
								}).on("error", function (error) {
									console.error(`!-  on error:`, error);
								}).then(function (receipt) {
									// will be fired once the receipt is mined
									console.log(`--  receipt is mined | receipt: `, receipt);
									outputConsole.innerHTML += "\n--  receipt is mined | receipt: " + receipt;
								});
							}
						}
					} catch (e) {
						console.error("!-  sendTransaction - error:", e);
						outputConsole.innerHTML += "\n!-  sendTransaction - error: " + objToString(e);
						Snackbar.e("sendTransaction: " + objToString(e));
					} finally {
						outputConsole.innerHTML += "\n\n-------\nDONE";
					}
				}

				async function sendSignedRawTransaction(tag, rawTransaction, outputConsole) {
					await web3.eth.sendSignedTransaction(rawTransaction)
						.once("sending", function (payload) {
							console.info(`--  sending | payload: `, payload);
							outputConsole.innerHTML += "\n--  sending | payload: " + JSON.stringify(payload, null, 2);
						}).once("sent", function (payload) {
							console.info(`--  sent | payload: `, payload);
							outputConsole.innerHTML += "\n--  sent | payload: " + JSON.stringify(payload, null, 2);
						}).once("transactionHash", function (hash) {
							console.info(`--  transactionHash | hash: `, hash);
							outputConsole.innerHTML += "\n--  transactionHash | hash: " + hash;
						}).once("receipt", function (receipt) {
							console.info(`--  receipt | receipt: `, receipt);
							outputConsole.innerHTML += "\n--  receipt | receipt: " + JSON.stringify(receipt, null, 2);
						}).on("confirmation", function (confNumber, receipt, latestBlockHash) {
							console.info(`--  on confirmation:`, confNumber, " | ", receipt, " | ", latestBlockHash);
							outputConsole.innerHTML += "\n--  on confirmation: " + confNumber + " | " + receipt + " | " + latestBlockHash;
						}).on("error", function (error) {
							console.error(`!-  on error:`, error);
						}).then(function (receipt) {
							console.log(`--  receipt is mined | receipt: `, receipt);
							outputConsole.innerHTML += "\n--  receipt is mined | receipt: " + receipt;
						});
				}

				async function sendPersonalTransaction(tag) {
					const outputConsole = document.getElementById("trans-p-result");

					try {
						outputConsole.innerHTML = '...';

						const from = document.getElementById("trans-p-from").value || undefined;
						const to = document.getElementById("trans-p-to").value || undefined;
						const value = document.getElementById("trans-p-value").value || undefined;
						const unit = document.getElementById("trans-p-value-unit").value || undefined;
						const data = document.getElementById("trans-p-data").value || undefined;
						console.log(`--  sendPersonalTransaction [${tag}] {${from} | ${to} | ${value} | ${unit} | ${data}`);

						if (!web3) Snackbar.w("Please select network");
						else if (!from) Snackbar.w("Please select from address");
						else {
							await web3.eth.personal.sendTransaction(
								{ from: from, to: to, value: value && web3.utils.toWei(value, unit), data: data, },
								'test-pw',
								(err, transactionHash) => {
									console.info("<-- sendPersonalTransaction:", err, "|", transactionHash);
								}
							).then(function (transactionHash) {
								// will be fired once the receipt is mined
								console.log(`<-- transactionHash: `, transactionHash);
								outputConsole.innerHTML += "\n<-- transactionHash: " + transactionHash;
							});
						}
					} catch (e) {
						console.error("!-  sendPersonalTransaction - error:", e);
						outputConsole.innerHTML += "\n!-  sendPersonalTransaction - error: " + objToString(e);
						Snackbar.e("sendPersonalTransaction: " + objToString(e));
					} finally {
						outputConsole.innerHTML += "\n\n-------\nDONE";
					}
				}

				// ----------------------

				function setContractDefaultAccount(tag, accAddress) {
					const outputConsole = document.getElementById("set-contract-default-account-result");

					try {
						outputConsole.innerHTML = '...';

						const c = contracts[selectContract.value];
						const contractAddress = document.getElementById("contract-address").value || $('#select-contract-address').val() || null;

						console.log(`--  setContractDefaultAccount [${tag}] {${selectContract.value} | ${contractAddress} | ${accAddress}}`);

						if (!web3) Snackbar.w("Please select network");
						// else if (!accAddress) Snackbar.w("Please enter acc address");
						else {
							web3.eth.Contract.defaultAccount = accAddress
						}
					} catch (e) {
						console.error("!-  setContractDefaultAccount - error:", e);
						outputConsole.innerHTML += "\n!-  setContractDefaultAccount - error: " + objToString(e);
						Snackbar.e("setContractDefaultAccount: " + objToString(e));
					} finally {
						outputConsole.innerHTML += "\n\n-------\nDONE";
					}
				}

				async function createNewContract(tag) {
					const outputConsole = document.querySelector("#create-contract .output-console");

					try {
						outputConsole.innerHTML = '...';

						const toSign = document.querySelector('#create-contract .is-sign').checked
						const contractName = $('#create-contract .select-contract-create').val() || undefined
						const arguments = $('#create-contract .arguments').val() || undefined
						const fromAddress = $('#create-contract .from-address input').val() || $('#create-contract .from-address select').val() || undefined
						const privateKey = $('#create-contract .from-pkey input').val() || $('#create-contract .from-pkey select').val() || undefined
						const gas = $('#create-contract .gas input').val() || undefined

						console.log(`--  createNewContract [${tag}] {${toSign} | ${contractName} | ${arguments} | ${fromAddress} | ${privateKey} | ${gas}}`);

						if (!web3) Snackbar.w("Please select network");
						else if (!contractName) Snackbar.w("Please select contract");
						else if (!toSign && !fromAddress) Snackbar.w("Please select From address");
						else if (toSign && !privateKey) Snackbar.w("Please select private key");
						else {
							const abi = contracts[contractName].abi
							const binary = contracts[contractName].binary

							const contract = new web3.eth.Contract(JSON.parse(abi));
							const deployObject = contract.deploy({
								data: binary,
								arguments: arguments && JSON.parse(`[${arguments}]`) || []
							})
							const encodeABI = deployObject.encodeABI()

							outputConsole.innerHTML = "--  deployObject.encodeABI: " + encodeABI + "\n";

							if (toSign) {
								const signed = await web3.eth.accounts.signTransaction(
									{ data: encodeABI, gas: gas },
									privateKey,
									(err, result) => {
										console.info("<-- accounts.signTransaction:", err, "|", result);
										outputConsole.innerHTML += "\n<-- accounts.signTransaction: " + err + " | " + JSON.stringify(result) + "\n";
									}
								)

								await sendSignedRawTransaction(`createNewContract|${tag}`, signed.rawTransaction, outputConsole)
							} else {
								await deployObject.send({
									from: fromAddress, gas: gas, // gasPrice: '30000000000000'
								}, function (error, transactionHash) {
									console.info("<-- createNewContract:", error, "|", transactionHash);
								})
									.once("sending", function (payload) {
										console.info(`--  sending | payload: `, payload);
										outputConsole.innerHTML += "\n--  sending | payload: " + JSON.stringify(payload);
									})
									.once("sent", function (payload) {
										console.info(`--  sent | payload: `, payload);
										outputConsole.innerHTML += "\n--  sent | payload: " + JSON.stringify(payload);
									})
									.on('error', function (error) {
										console.error(`!-  on error:`, error);
									})
									.on('transactionHash', function (transactionHash) {
										console.info(`--  transactionHash | hash: `, transactionHash);
										outputConsole.innerHTML += "\n--  transactionHash | hash: " + transactionHash;
									})
									.on('receipt', function (receipt) {
										// console.log(receipt.contractAddress) // contains the new contract address
										console.info(`--  receipt | receipt: `, receipt);
										outputConsole.innerHTML += "\n--  receipt | receipt: " + JSON.stringify(receipt, null, 2);
									})
									.on('confirmation', function (confirmationNumber, receipt, latestBlockHash) {
										console.info(`--  on confirmation:`, confirmationNumber, " | ", receipt, " | ", latestBlockHash);
										outputConsole.innerHTML += "\n--  on confirmation: " + confirmationNumber + " | " + receipt + " | " + latestBlockHash;
									})
									.then(function (newContractInstance) {
										console.log(`--  newContractInstance: `, newContractInstance);
										outputConsole.innerHTML += "\n--  newContractInstance: " + newContractInstance.options.address + "|" + newContractInstance.options.from + "|" + newContractInstance.options.gas + "|" + newContractInstance.options.gasPrice;
									});
							}
						}
					} catch (e) {
						console.error("!-  createNewContract - error:", e);
						outputConsole.innerHTML += "\n!-  createNewContract - error: " + objToString(e);
						Snackbar.e("createNewContract: " + objToString(e));
					} finally {
						outputConsole.innerHTML += "\n\n-------\nDONE";
					}
				}

				function onContractChange(tag, value) {
					console.log(`--  onContractChange [${tag}]:`, value);

					const outputConsole = document.querySelector("#contract-info-base");

					try {
						outputConsole.innerHTML = null;

						const contract = contracts[value];
						document.getElementById("contract-abi").innerHTML = (contract && contract.abi) || null;

						/** @type {HTMLSelectElement} selectContractAddress */
						const selectContractAddress = document.getElementById("select-contract-address")

						for (let i = selectContractAddress.length - 1; i > 0; i--)
							selectContractAddress.remove(i)

						const contractAddresses = networks[selectNetwork.value] && networks[selectNetwork.value].contractAddresses && networks[selectNetwork.value].contractAddresses[value]
						if (contractAddresses && contractAddresses.length) {
							for (let i of contractAddresses) {
								const option = document.createElement("option");
								option.text = i;
								option.value = i;
								selectContractAddress.add(option);
							}

							selectContractAddress.selectedIndex = 1
						}

						document.querySelectorAll('.reset-on-contract-change .output-console').forEach(x => x.innerHTML = null)
					} catch (e) {
						console.error("!-  onContractChange - error:", e);
						outputConsole.innerHTML += "\n!-  onContractChange - error: " + objToString(e);
						Snackbar.e("onContractChange: " + objToString(e));
					}
				}

				async function getContractInfo(tag) {
					const outputConsole = document.querySelector("#contract-info .output-console");

					try {
						outputConsole.innerHTML = '...';

						const c = contracts[selectContract.value];
						const address = document.getElementById("contract-address").value || $('#select-contract-address').val() || null;
						console.log(`--  getContractInfo [${tag}] {${selectContract.value} | ${address}}`);

						if (!web3) Snackbar.w("Please select network");
						else if (!c) Snackbar.w("Please select contract");
						else if (!address) Snackbar.w("Please enter contract address");
						else {
							const contract = new web3.eth.Contract(JSON.parse(c.abi), address);

							outputConsole.innerHTML = "--  defaultAccount: " + contract.defaultAccount

							await contract.methods.name().call((err, result) => {
								console.log("<-- name:", err, "|", result);
								outputConsole.innerHTML += "\n<-- name: " + err + " | " + result;
							});
							await contract.methods.symbol().call((err, result) => {
								console.log("<-- symbol:", err, "|", result);
								outputConsole.innerHTML += "\n<-- symbol: " + err + " | " + result;
							});
							await contract.methods.totalSupply().call((err, result) => {
								console.log("<-- totalSupply:", err, "|", result);
								outputConsole.innerHTML += "\n<-- totalSupply: " + err + " | " + result;
							});
							await contract.methods.decimals().call((err, result) => {
								console.log("<-- decimals:", err, "|", result);
								outputConsole.innerHTML += "\n<-- decimals: " + err + " | " + result;
							});

							// test
							await contract.methods.test().call((err, result) => {
								console.log("<-- test:", err, "|", result);
								outputConsole.innerHTML += "\n<-- test: " + err + " | " + result;
							});
						}
					} catch (e) {
						console.error("!-  getContractInfo - error:", e);
						outputConsole.innerHTML += "\n!-  getContractInfo - error: " + objToString(e);
						Snackbar.e("getContractInfo: " + objToString(e));
					} finally {
						outputConsole.innerHTML += "\n\n-------\nDONE";
					}
				}

				function onChangeAccForTokenBalanceCheck(account) {
					if (account) document.querySelector("#account-token-balance-check input").value = null;
					getAccountTokenBalance("onChangeAccForTokenBalanceCheck", account, "#account-token-balance-check .output-console");
				}

				async function getAccountTokenBalance(tag, accAddress, outputID) {
					const outputConsole = document.querySelector(outputID);

					try {
						outputConsole.innerHTML = '...';

						const c = contracts[selectContract.value];
						const contractAddress = document.getElementById("contract-address").value || $('#select-contract-address').val() || null;

						console.log(`--  getAccountTokenBalance [${tag}] {${selectContract.value} | ${contractAddress} | ${accAddress} | ${outputID}}`);

						if (!web3) Snackbar.w("Please select network");
						else if (!c) Snackbar.w("Please select contract");
						else if (!contractAddress) Snackbar.w("Please enter contract address");
						else if (!accAddress) Snackbar.w("Please enter acc address");
						else {
							const contract = new web3.eth.Contract(JSON.parse(c.abi), contractAddress);

							await contract.methods.balanceOf(accAddress).call((err, result) => {
								console.log(`<-- balanceOf {${accAddress}}:`, err, "|", result);
								if (err) outputConsole.innerHTML = "!-  error: " + objToString(err);
								if (result && !err) outputConsole.innerHTML = result;
								else if (result && err) outputConsole.innerHTML += '\n> ' + result;
							});
						}
					} catch (e) {
						console.error("!-  getAccountTokenBalance - error:", e);
						outputConsole.innerHTML += "\n!-  getAccountTokenBalance - error: " + objToString(e);
						Snackbar.e("getAccountTokenBalance: " + objToString(e));
					}
				}

				async function getAccountTokenBalanceFromPrivateKey(tag, privateKey, outputID) {
					const outputConsole = document.querySelector(outputID);

					try {
						outputConsole.innerHTML = '...';

						const c = contracts[selectContract.value];
						const contractAddress = document.getElementById("contract-address").value || $('#select-contract-address').val() || null;

						console.log(`--  getAccountTokenBalanceFromPrivateKey [${tag}] {${selectContract.value} | ${contractAddress} | ${privateKey} | ${outputID}}`);

						if (!web3) Snackbar.w("Please select network");
						else if (!c) Snackbar.w("Please select contract");
						else if (!contractAddress) Snackbar.w("Please enter contract address");
						else if (!privateKey) Snackbar.w("Please enter privateKey");
						else {
							const account = web3.eth.accounts.privateKeyToAccount(privateKey)
							console.info(`--  privateKeyToAccount {${privateKey}}:`, account);
							outputConsole.innerHTML = "acc: " + JSON.stringify(account);

							const contract = new web3.eth.Contract(JSON.parse(c.abi), contractAddress);

							await contract.methods.balanceOf(account.address).call((err, result) => {
								console.log(`<-- balanceOf {${account.address}}:`, err, "|", result);
								if (err) outputConsole.innerHTML += "\n! " + objToString(err);
								if (result && !err) outputConsole.innerHTML += '\n> ' + result;
								else if (result && err) outputConsole.innerHTML += '\n> ' + result;
							});
						}
					} catch (e) {
						console.error("!-  getAccountTokenBalanceFromPrivateKey - error:", e);
						outputConsole.innerHTML += "\n!-  getAccountTokenBalanceFromPrivateKey - error: " + objToString(e);
						Snackbar.e("getAccountTokenBalanceFromPrivateKey: " + objToString(e));
					}
				}

				async function addMinters(tag) {
					const outputConsole = document.querySelector("#add-minters .output-console");

					try {
						outputConsole.innerHTML = '...';

						const c = contracts[selectContract.value];
						const contractAddress = document.getElementById("contract-address").value || $('#select-contract-address').val() || null;

						const toSign = document.querySelector('#add-minters .is-sign').checked
						const senderAddress = $('#add-minters .sender-address input').val() || $('#add-minters .sender-address select').val() || undefined
						const privateKey = $('#add-minters .sender-pkey input').val() || $('#add-minters .sender-pkey select').val() || undefined
						const mintersAddresses = $('#add-minters .minters input').val() || $('#add-minters .minters select').val() || undefined
						const gas = $('#add-minters .gas input').val() || undefined

						console.log(`--  addMinters [${tag}] {${toSign} | ${selectContract.value} | ${senderAddress} | ${privateKey} | ${mintersAddresses} | ${gas}}`);

						if (!web3) Snackbar.w("Please select network");
						else if (!c) Snackbar.w("Please select contract");
						else if (!contractAddress) Snackbar.w("Please enter contract address");
						else if (toSign && !privateKey) Snackbar.w("Please enter private key");
						else if (!toSign && !senderAddress) Snackbar.w("Please enter sender key");
						else if (!mintersAddresses) Snackbar.w("Please enter mintersAddresses");
						// else if (toSign && !gas) Snackbar.w("Please enter gas");
						else {
							const contract = new web3.eth.Contract(JSON.parse(c.abi), contractAddress);

							if (toSign) {
								const signed = await web3.eth.accounts.signTransaction(
									{
										to: contractAddress, gas: gas,
										data: contract.methods.addMinters(mintersAddresses.split(",")).encodeABI(),
									},
									privateKey,
									(err, result) => {
										console.info("<-- accounts.signTransaction:", err, "|", result);
										outputConsole.innerHTML += "\n<-- accounts.signTransaction: " + err + " | " + JSON.stringify(result) + "\n";
									}
								)

								await sendSignedRawTransaction(`addMinters|${tag}`, signed.rawTransaction, outputConsole)
							} else {
								await contract.methods.addMinters(mintersAddresses.split(",")).send({ from: senderAddress }, (err, result) => {
									console.log(`<-- addMinters {${senderAddress} | ${mintersAddresses}}:`, err, "|", result);
									outputConsole.innerHTML += "\n<-- addMinters: " + objToString(err) + " | " + result;
								})
							}
						}
					} catch (e) {
						console.error("!-  addMinters - error:", e);
						outputConsole.innerHTML += "\n!-  addMinters - error: " + objToString(e);
						Snackbar.e("addMinters: " + objToString(e));
					} finally {
						outputConsole.innerHTML += "\n\n-------\nDONE";
					}
				}

				async function mintToken(tag) {
					const outputConsole = document.querySelector("#mint .output-console");

					try {
						outputConsole.innerHTML = '...';

						const c = contracts[selectContract.value];
						const contractAddress = document.getElementById("contract-address").value || $('#select-contract-address').val() || null;

						const toSign = document.querySelector('#mint .is-sign').checked
						const minterAcccount = $('#mint .minter-address input').val() || $('#mint .minter-address select').val() || undefined
						const minterPrivateKey = $('#mint .minter-pkey input').val() || $('#mint .minter-pkey select').val() || undefined
						const toAcccount = $('#mint .to input').val() || $('#mint .to select').val() || undefined
						const value = $('#mint .value').val()
						const gas = $('#mint .gas input').val() || undefined

						console.log(`--  mintToken [${tag}] {${toSign} | ${selectContract.value} | ${minterAcccount} | ${minterPrivateKey} | ${toAcccount} | ${value}}`);

						if (!web3) Snackbar.w("Please select network");
						else if (!c) Snackbar.w("Please select contract");
						else if (!contractAddress) Snackbar.w("Please enter contract address");
						else if (!toSign && !minterAcccount) Snackbar.w("Please select Minter address");
						else if (toSign && !minterPrivateKey) Snackbar.w("Please select Minter private key");
						else if (!toAcccount) Snackbar.w("Please select To address");
						else if (!value) Snackbar.w("Please enter value");
						// else if (toSign && !gas) Snackbar.w("Please enter gas");
						else {
							const contract = new web3.eth.Contract(JSON.parse(c.abi), contractAddress);

							if (toSign) {
								const signed = await web3.eth.accounts.signTransaction(
									{
										to: contractAddress, gas: gas,
										data: contract.methods.mint(toAcccount, value).encodeABI(),
									},
									minterPrivateKey,
									(err, result) => {
										console.info("<-- accounts.signTransaction:", err, "|", result);
										outputConsole.innerHTML += "\n<-- accounts.signTransaction: " + err + " | " + JSON.stringify(result) + "\n";
									}
								)

								await sendSignedRawTransaction(`mint|${tag}`, signed.rawTransaction, outputConsole)
							} else {
								await contract.methods.mint(toAcccount, value).send({ from: minterAcccount }, (err, result) => {
									console.log(`<-- mint {${minterAcccount} | ${toAcccount}}:`, err, "|", result);
									outputConsole.innerHTML += "\n<-- mint: " + objToString(err) + " | " + result;
								})
							}
						}
					} catch (e) {
						console.error("!-  mintToken - error:", e);
						outputConsole.innerHTML += "\n!-  mintToken - error: " + objToString(e);
						Snackbar.e("mintToken: " + objToString(e));
					} finally {
						outputConsole.innerHTML += "\n\n-------\nDONE";
					}
				}

				async function transferToken(tag) {
					const outputConsole = document.querySelector("#transfer-token .output-console");

					try {
						outputConsole.innerHTML = '...';

						const c = contracts[selectContract.value];
						const contractAddress = document.getElementById("contract-address").value || $('#select-contract-address').val() || null;

						const toSign = document.querySelector('#transfer-token .is-sign').checked
						const fromAcccount = $('#transfer-token .from-address input').val() || $('#transfer-token .from-address select').val() || undefined
						const privateKey = $('#transfer-token .from-pkey input').val() || $('#transfer-token .from-pkey select').val() || undefined
						const toAcccount = $('#transfer-token .to input').val() || $('#transfer-token .to select').val() || undefined
						const value = $('#transfer-token .value').val()
						const gas = $('#transfer-token .gas input').val() || undefined

						console.log(`--  transferToken [${tag}] {${toSign} | ${selectContract.value} | ${fromAcccount} | ${privateKey} | ${toAcccount} | ${value} | ${gas}}`);

						if (!web3) Snackbar.w("Please select network");
						else if (!c) Snackbar.w("Please select contract");
						else if (!contractAddress) Snackbar.w("Please enter contract address");
						else if (!toSign && !fromAcccount) Snackbar.w("Please select From address");
						else if (toSign && !privateKey) Snackbar.w("Please select private key");
						else if (!toAcccount) Snackbar.w("Please select To address");
						else if (!value) Snackbar.w("Please enter value");
						else {
							const contract = new web3.eth.Contract(JSON.parse(c.abi), contractAddress);

							if (toSign) {
								const signed = await web3.eth.accounts.signTransaction(
									{
										to: contractAddress, gas: gas,
										data: contract.methods.transfer(toAcccount, value).encodeABI(),
									},
									privateKey,
									(err, result) => {
										console.info("<-- accounts.signTransaction:", err, "|", result);
										outputConsole.innerHTML += "\n<-- accounts.signTransaction: " + err + " | " + JSON.stringify(result) + "\n";
									}
								)

								await sendSignedRawTransaction(`transferToken|${tag}`, signed.rawTransaction, outputConsole)
							} else {
								await contract.methods.transfer(toAcccount, value).send({ from: fromAcccount }, (err, result) => {
									console.log(`<-- transfer {${fromAcccount} | ${toAcccount}}:`, err, "|", result);
									outputConsole.innerHTML += "\n<-- transfer: " + objToString(err) + " | " + result;
								})
							}
						}
					} catch (e) {
						console.error("!-  transferToken - error:", e);
						outputConsole.innerHTML += "\n!-  transferToken - error: " + objToString(e);
						Snackbar.e("transferToken: " + objToString(e));
					} finally {
						outputConsole.innerHTML += "\n\n-------\nDONE";
					}
				}
			</script>
		</div>

		<footer id="footer">
			<hr />
			&copy; by <abbr title="Nguyễn Xuân Thắng">XT</abbr> 2018
			<span id="app-info" style="float: right"></span>
		</footer>
	</div>

	<!-- <script src="https://xthang.xyz/js/snow.js"></script> -->

	<script>
		window.addEventListener("load", function (event) {
			document.getElementById("SpinnerBar").hidden = true;
		});
	</script>
</body>

</html>